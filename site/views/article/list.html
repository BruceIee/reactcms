{% extends '../layout/layout.html' %}

{% block style %}
{% parent %}
<link rel="stylesheet" href="/style/article/index.css">
{% endblock %}

{% block script %}
{% parent %}
<script src="/library/moment/moment.js"></script>
<!--
<script src="http://timeago.yarp.com/jquery.timeago.js"></script>
-->
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-12" style="margin:40px auto;font-size:2.1em;color:#666;">
            <div style="text-align:center;">Article List</div>
        </div>
    </div>
    
    <div>
        <table class="table table-striped table-bordered">
              <thead>
                  <tr>
                      <td>
                          Title
                      </td>
                      <td>
                          Content
                      </td>
                      <td>
                          Create Date
                      </td>                  
                  </tr>
              </thead>
              <tbody>
                  {% for article in page.articles %}
                      <tr>
                          <td>
                              <a href="/articles/{{article._id.toString()}}/detail">{{article.title}}</a>
                          </td>
                          <td>
                              {{ article.content | replace("^(.{25,25})(.*)", "$1") }}......
                          </td>                  
                          <td>
                              {{article.create_date.toISOString()}}
                          </td>                  
                      </tr>
    
                  {% endfor %}
              </tbody>
        </table>
    </div>
    
</div>
{% endblock %}
