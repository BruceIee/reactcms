{% extends '../layout/layout.html' %}

{% block style %}
{% parent %}
{% endblock %}

{% block script %}
{% parent %}
<script>
var cnt = 1;    
    
function add_new_group() {
    $("#mydiv").append(
        '<div>' + 
            '<fieldset>' + 
                '<legend>(Element) <button type="button" class="btn btn-danger" onclick="remove_group(this)">-</button></legend>' + 
                '<div class="form-group">' + 
                    '<label class="col-sm-2 control-label">Title</label>' + 
                    '<div class="col-sm-10">' + 
                        '<input type="text" class="form-control" name="title_' + cnt + '" placeholder="element title" required>' +
                    '</div>' + 
                '</div>' + 
                '<div class="form-group">' + 
                    '<label class="col-sm-2 control-label">Hyperlink</label>' + 
                    '<div class="col-sm-10">' + 
                        '<input type="text" class="form-control" name="hyperlink_' + cnt + '" placeholder="element hyperlink">' + 
                    '</div>' + 
                '</div>' + 
                '<div class="form-group">' + 
                    '<label class="col-sm-2 control-label">Image</label>' + 
                    '<div class="col-sm-10">' + 
                        '<input type="file" class="form-control" name="img_' + cnt + '" required>' +
                    '</div>' + 
                '</div>' + 
                '<div class="form-group">' + 
                    '<label class="col-sm-2 control-label">Text</label>' + 
                    '<div class="col-sm-10">' + 
                        '<textarea class="form-control" name="text_' + cnt + '" placeholder="element text"></textarea>' + 
                    '</div>' + 
                '</div>' + 
            '</fieldset>' + 
            '<hr>' + 
        '</div>'
    );
    cnt = cnt + 1;
};
function remove_group(who) {
    $(who).closest('div').remove(); //remove associate div
};
</script>
{% endblock %}

{% block content %}
<div class="container">
    
    <div class="row">
        <h3 class="col-md-6  col-md-offset-3">
            Add Imageset
        </h3>
        <br><br><br><br>
    </div>

    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <form class="form-horizontal" role="form" action="/data/imagesets/add_imageset_post" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label class="col-sm-2 control-label">Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="name" placeholder="imageset name" required>
                    </div>
                </div>
                <hr>
                <div id="mydiv">
                    <div>
                        <fieldset>
                            <legend>(Element)</legend>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Title</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name="title_0" placeholder="element title" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Hyperlink</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name="hyperlink_0" placeholder="element hyperlink">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Image</label>
                                <div class="col-sm-10">
                                    <input type="file" class="form-control" name="img_0" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Text</label>
                                <div class="col-sm-10">
                                    <textarea class="form-control" name="text_0" placeholder="element text"></textarea>    
                                </div>
                            </div>
                        </fieldset>
                        <hr>
                    </div>
                </div>
                    
                <button type="button" class="btn btn-success" onclick="add_new_group()">+</button>
                <p></p>
                <button type="submit" class="btn btn-primary btn-lg btn-block" name="submit">Add</button>
            </form>
        </div>
    </div>
    
</div>
{% endblock %}
